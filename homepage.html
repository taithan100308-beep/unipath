<!-- ğŸŒŸ HOMEPAGE Má»šI - Study Time Manager -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trang chá»§ - UNIPATH</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="home.js" defer></script>
</head>
<body class="homepage-body">
<nav class="navbar">
  <div class="nav-left">
    <img src="logo.png" alt="Logo" class="logo">
    <h2 class="nav-logo">UNIPATH</h2>
  </div>

  <div class="nav-right">
    <a href="homepage.html">Trang chá»§</a>

    <!-- ğŸ”¹ Dropdown Tuyá»ƒn sinh -->
<div class="dropdown">
  <a href="#" class="dropbtn">Tuyá»ƒn sinh â–¾</a>
  <div class="dropdown-content">
    <a href="universities.html">ThÃ´ng tin tuyá»ƒn sinh</a>
    <a href="converter.html">Quy Ä‘á»•i Ä‘iá»ƒm</a>
    <a href="ctu-cutoff.html">Tra cá»©u Ä‘iá»ƒm</a>
  </div>
</div>
    <a href="public/document-ai.html">AI</a>
    <a href="biotest.html">Sinh tráº¯c há»c</a>
    <a href="study-methods.html">PhÆ°Æ¡ng phÃ¡p há»c</a>
    <a href="documents.html">VÄƒn báº£n</a>
    <a href="contact.html">LiÃªn há»‡</a>
    <button id="logoutNavBtn" class="logout-btn">ÄÄƒng xuáº¥t</button>
  </div>
</nav>

  <div class="hero-image hero-bg1">
    <img src="background.jpg" alt="Background 1" class="hero-img bg1">
  </div>

  <div class="loading-container">
    <img src="loading.png" alt="Loading" class="loading-img">
  </div>


  <div class="homepage-container">
    <div class="user-profile">
      <img id="userPhoto" alt="áº¢nh Ä‘áº¡i diá»‡n" class="avatar-large" />
      <h2 id="userName"></h2>
      <p>ChÃ o má»«ng báº¡n quay láº¡i vá»›i UNIPATH ğŸŒŸ</p>
    </div>
    <div class="home-buttons"></div>
  </div>

  <div class="news-header">
    <img src="news.jpg" alt="News icon" class="news-icon">
    <p class="news-title">Tin tá»©c</p>
  </div>

  <div class="news-grid">
    <div class="news-item">
      <img src="news1.jpg" alt="News 1" class="news-image">
      <div class="news-content">
        <h3 class="news-title">
          <a href="https://www.vietnamplus.vn/bo-gd-dt-cap-do-kho-de-cua-de-thi-duoc-sinh-ra-ngau-nhien-khong-theo-ma-tran-post1046815.vnp" target="_blank">
            Bá»™ GD-ÄT: Cáº¥p Ä‘á»™ khÃ³, dá»… cá»§a Ä‘á» thi Ä‘Æ°á»£c sinh ra ngáº«u nhiÃªn, khÃ´ng theo ma tráº­n
          </a>
        </h3>
        <p class="news-desc">
          Bá»™ GD-ÄT cho hay ma tráº­n Ä‘á» thi khÃ´ng cÃ³ trÆ°á»›c nhÆ° cÃ¡c nÄƒm mÃ  Ä‘Æ°á»£c sinh ra má»™t cÃ¡ch ngáº«u nhiÃªn trong cÃ¡c chá»§ Ä‘á» há»c...
        </p>
        <a href="https://www.vietnamplus.vn/bo-gd-dt-cap-do-kho-de-cua-de-thi-duoc-sinh-ra-ngau-nhien-khong-theo-ma-tran-post1046815.vnp" target="_blank" class="news-link">Xem thÃªm</a>
      </div>
    </div>

    <div class="news-item">
      <img src="news2.jpg" alt="News 2" class="news-image">
      <div class="news-content">
        <h3 class="news-title">
          <a href="https://vnexpress.net/co-the-day-som-ky-thi-tot-nghiep-thpt-tu-2026-4864147.html" target="_blank">
            CÃ³ thá»ƒ Ä‘áº©y sá»›m ká»³ thi tá»‘t nghiá»‡p THPT tá»« 2026
          </a>
        </h3>
        <p class="news-desc">
          Tá»« nÄƒm sau, ká»³ thi tá»‘t nghiá»‡p cÃ³ thá»ƒ diá»…n ra sau báº¿ giáº£ng nÄƒm há»c 2 tuáº§n, Ä‘á»ƒ tháº§y trÃ² Ã½ thá»©c viá»‡c há»c chÃ­nh khÃ³a...
        </p>
        <a href="https://vnexpress.net/co-the-day-som-ky-thi-tot-nghiep-thpt-tu-2026-4864147.html" target="_blank" class="news-link">Xem thÃªm</a>
      </div>
    </div>

        <div class="news-item">
      <img src="news3.jpg" alt="News 2" class="news-image">
      <div class="news-content">
        <h3 class="news-title">
          <a href="https://baochinhphu.vn/cong-bo-pho-diem-tat-ca-cac-mon-thi-tot-nghiep-thpt-2024-102240717085519669.htm?gidzl=5686JZmHzcSVU0PBE0xpQ15-0qek2l1aMNe2IIjS-se9BLX3VLBzEWqcMKCaK_mz1dPP43GHHy4RDntoPW" target="_blank">
          CÃ´ng bá»‘ phá»• Ä‘iá»ƒm táº¥t cáº£ cÃ¡c mÃ´n thi tá»‘t nghiá»‡p THPT 2024
          </a>
        </h3>
        <p class="news-desc">
          Ngay sau khi cÃ³ káº¿t quáº£ thi tá»‘t nghiá»‡p THPT nÄƒm 2024, sÃ¡ng 17/7, Bá»™ GD&ÄT Ä‘Ã£ cÃ´ng bá»‘ phá»• Ä‘iá»ƒm táº¥t cÃ¡c mÃ´n thi.
        </p>
        <a href="https://baochinhphu.vn/cong-bo-pho-diem-tat-ca-cac-mon-thi-tot-nghiep-thpt-2024-102240717085519669.htm?gidzl=5686JZmHzcSVU0PBE0xpQ15-0qek2l1aMNe2IIjS-se9BLX3VLBzEWqcMKCaK_mz1dPP43GHHy4RDntoPW" target="_blank" class="news-link">Xem thÃªm</a>
      </div>
    </div>
  </div>

  <div class="loading-container">
    <img src="loading.png" alt="Loading" class="loading-img">
  </div>

  <div id="stats-section" class="stats-section">
    <h2>NHá»®NG CON Sá» THá»NG KÃŠ</h2>
    <div class="stats-grid">
      <div class="stat-box">
        <h3 id="student-count">0</h3>
        <p>Sá»‘ lÆ°á»£ng ngÆ°á»i Ä‘Ã£ truy cáº­p</p>
      </div>
      <div class="stat-box">
        <h3 id="postgraduate-count">0</h3>
        <p>Sá»‘ lÆ°á»£ng ngÆ°á»i Ä‘Ã£ truy cáº­p trong thÃ¡ng</p>
      </div>
    </div>
  </div>

  <!-- ğŸ”¹ Chat box -->
  <div id="ai-chat-box" class="chat-box">
    <div class="chat-header" id="toggle-chat">
      <h3>AI Assistant</h3>
      <svg xmlns="http://www.w3.org/2000/svg" class="chat-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </div>

    <div id="chat-content" class="chat-content" style="display: none;"></div>
    <div id="chat-input" class="chat-input" style="display: none;">
      <form id="chat-form" class="chat-form">
        <input type="text" id="user-input" class="chat-text" placeholder="Type your message..." />
        <button type="submit" class="chat-send">Send</button>
      </form>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-container">
      <div class="footer-content">
        <div class="footer-column">
          <div class="footer-header">
            <div class="footer-logo-group">
              <div class="footer-logo">
                <img src="logo.png" alt="Logo">
              </div>
              <div class="footer-title">UNIPATH</div>
            </div>
            <p class="footer-slogan">
              Äá»•i má»›i sÃ¡ng táº¡o, nÃ¢ng cao cháº¥t lÆ°á»£ng Ä‘á»ƒ thÃ nh cÃ´ng
            </p>
          </div>
          <div class="footer-info">
            <p>THPT chuyÃªn LÃ½ Tá»± Trá»ng - PhÆ°á»ng CÃ¡i RÄƒng, TP. Cáº§n ThÆ¡</p>
            <p>Äiá»‡n thoáº¡i: 0292.3821.428</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- âœ… SCRIPT -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-database.js";
    import { firebaseConfig } from "./firebase-config.js";

    // ğŸ”¹ Khá»Ÿi táº¡o Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // ğŸ”¹ TÄƒng lÆ°á»£t truy cáº­p
    const visitRef = ref(db, "visits/count");
    get(visitRef)
      .then(snapshot => {
        let count = snapshot.exists() ? snapshot.val() : 0;
        count++;
        set(visitRef, count);
        document.getElementById("student-count").textContent = count;
      })
      .catch(err => console.error("Lá»—i láº¥y dá»¯ liá»‡u:", err));

    // ğŸ”¹ Chat box logic
    const toggleChat = document.getElementById("toggle-chat");
    const chatContent = document.getElementById("chat-content");
    const chatInput = document.getElementById("chat-input");
    const chatForm = document.getElementById("chat-form");
    const userInput = document.getElementById("user-input");

    let chatOpened = false;

    function appendMessage(sender, text) {
      const div = document.createElement("div");
      div.className = sender === "user" ? "chat-message user" : "chat-message ai";
      div.innerHTML = `<span>${text}</span>`;
      chatContent.appendChild(div);
      chatContent.scrollTop = chatContent.scrollHeight;
    }

    function appendOption(text, response) {
      const btn = document.createElement("button");
      btn.className = "chat-option";
      btn.textContent = text;
      btn.onclick = () => {
        appendMessage("user", text);
        appendMessage("ai", response);
      };
      chatContent.appendChild(btn);
    }

    toggleChat.addEventListener("click", () => {
      const hidden = chatContent.style.display === "none";
      chatContent.style.display = hidden ? "block" : "none";
      chatInput.style.display = hidden ? "flex" : "none";
      toggleChat.querySelector(".chat-arrow").style.transform = hidden ? "rotate(180deg)" : "rotate(0deg)";

      if (hidden && !chatOpened) {
        chatOpened = true;
        appendMessage("ai", "ChÃ o! TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n?");
        appendOption("Giá»›i thiá»‡u vá» website", "ÄÃ¢y lÃ  website giÃºp báº¡n tra cá»©u thÃ´ng tin tuyá»ƒn sinh vÃ  quáº£n lÃ½ há»c táº­p.");
        appendOption("LiÃªn há»‡ há»— trá»£", "Báº¡n cÃ³ thá»ƒ gá»­i email cho chÃºng tÃ´i qua pháº§n LiÃªn há»‡.");
      }
    });

    chatForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const text = userInput.value.trim();
      if (!text) return;
      appendMessage("user", text);
      userInput.value = "";
      setTimeout(() => appendMessage("ai", "Cáº£m Æ¡n báº¡n! TÃ´i sáº½ ghi nháº­n pháº£n há»“i nÃ y."), 600);
    });
  </script>
</body>
</html>